# 2020 01 21 
* 도커작업 ~ ing
* 소셜로그인 변경

## 도커

어제 봤었던, 포트번호를 코드에서 바꿔도 코드에서 바뀌지 않는 문제의 원인ㅇ르 찾았다. 코드를 바꾸면 `docker-compose build` 명령을 해주지 않아 변경했던 코드가 컨테이너에 반영되지 않았던 문제였다. 

그렇게 수정해주니 됬다! 

`docker-compose build`가 문제였다. 

몇일간 되지 않았던 문제가 해결되어 진짜 기분이 좋아졌다. 이제 CI를 사용해서 이 과정을 자동으로 진행할 수 있도록 변경하면 될 것같다.

그 전에 배포를 먼저 해야겠다. 

## 소셜 로그인 변경

도커가 되서 이제 잠시 코드 작업을 진행하게 되었다. 소셜로그인을 바탕으로 로그인을 구현하기 때문에 회원가입 기능이 필요없다는 사실을 확인하고 변경해주게 되었다. 

처음에는 간단하게 구현할 수 있을 줄 알았다. sequelize에서는 findorcreate기능이 있어서 당연히 있는줄 알고 썻으나 typeorm은 없었다. 그래서 어떻게 해야할지 관련 자료를 찾아봐야겠다.

일단 최대한 깔끔하게(?) 코드를 작성했다. 더 나은 방법이 있겠지만 추후에 다시 확인하려 한다. 일단 잘 돌아가는 모습을 확인했다. 

